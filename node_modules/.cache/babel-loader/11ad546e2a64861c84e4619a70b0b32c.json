{"ast":null,"code":"const FIREBASE_DOMAIN = \"https://portfolio-1-e0333-default-rtdb.firebaseio.com\";\nexport async function getAllItems() {\n  const response = await fetch(`${FIREBASE_DOMAIN}/items.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not fetch items.\");\n  }\n\n  const fetchedItems = [];\n\n  for (const key in data) {\n    const itemObj = {\n      id: key,\n      ...data[key]\n    };\n    fetchedItems.push(itemObj);\n  }\n\n  return fetchedItems;\n}\nexport async function getSingleItem(idItem) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/items/${idItem}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not fetch items.\");\n  }\n\n  const loadedItem = {\n    id: idItem,\n    ...data\n  };\n  return loadedItem;\n}\nexport async function getAllOrders() {\n  const response = await fetch(`${FIREBASE_DOMAIN}/orders.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not fetch orders.\");\n  }\n\n  const fetchedOrders = [];\n\n  for (const key in data) {\n    const itemObj = {\n      id: key,\n      ...data[key]\n    };\n    fetchedOrders.push(itemObj);\n  }\n\n  return fetchedOrders;\n}\nexport async function makeOrder(orderData, user) {\n  console.log(orderData, user);\n  const response = await fetch(`${FIREBASE_DOMAIN}/orders/${user}/.json`, {\n    method: \"POST\",\n    body: JSON.stringify(orderData),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not process order.\");\n  }\n\n  return null;\n}\nexport async function cancelOrder(orderId) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/orders/${orderId}.json`, {\n    method: \"DELETE\",\n    body: JSON.stringify(),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not cancel order.\");\n  }\n\n  return null;\n}\nexport async function getPersonalInfo(userEmail) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/users/${userEmail}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not find any info.\");\n  }\n\n  const fetchedInfo = [];\n\n  for (const key in data) {\n    const infoObj = {\n      id: key,\n      value: data[key]\n    };\n    fetchedInfo.push(infoObj);\n  }\n\n  return fetchedInfo;\n}","map":{"version":3,"sources":["C:/Users/Win10/Documents/udemi-react/13-react-portfolio-eshop/src/lib/api.js"],"names":["FIREBASE_DOMAIN","getAllItems","response","fetch","data","json","ok","Error","message","fetchedItems","key","itemObj","id","push","getSingleItem","idItem","loadedItem","getAllOrders","fetchedOrders","makeOrder","orderData","user","console","log","method","body","JSON","stringify","headers","cancelOrder","orderId","getPersonalInfo","userEmail","fetchedInfo","infoObj","value"],"mappings":"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","sourcesContent":["const FIREBASE_DOMAIN = \"https://portfolio-1-e0333-default-rtdb.firebaseio.com\";\r\n\r\nexport async function getAllItems() {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/items.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch items.\");\r\n  }\r\n\r\n  const fetchedItems = [];\r\n  for (const key in data) {\r\n    const itemObj = {\r\n      id: key,\r\n      ...data[key],\r\n    };\r\n    fetchedItems.push(itemObj);\r\n  }\r\n  return fetchedItems;\r\n}\r\n\r\nexport async function getSingleItem(idItem) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/items/${idItem}.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch items.\");\r\n  }\r\n  const loadedItem = {\r\n    id: idItem,\r\n    ...data,\r\n  };\r\n  return loadedItem;\r\n}\r\n\r\nexport async function getAllOrders() {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/orders.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch orders.\");\r\n  }\r\n\r\n  const fetchedOrders = [];\r\n  for (const key in data) {\r\n    const itemObj = {\r\n      id: key,\r\n      ...data[key],\r\n    };\r\n    fetchedOrders.push(itemObj);\r\n  }\r\n  return fetchedOrders;\r\n}\r\n\r\nexport async function makeOrder(orderData, user) {\r\n  console.log(orderData, user);\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/orders/${user}/.json`, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(orderData),\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n  });\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not process order.\");\r\n  }\r\n  return null;\r\n}\r\n\r\nexport async function cancelOrder(orderId) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/orders/${orderId}.json`, {\r\n    method: \"DELETE\",\r\n    body: JSON.stringify(),\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n  });\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not cancel order.\");\r\n  }\r\n  return null;\r\n}\r\n\r\nexport async function getPersonalInfo(userEmail) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/users/${userEmail}.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not find any info.\");\r\n  }\r\n\r\n  const fetchedInfo = [];\r\n  for (const key in data) {\r\n    const infoObj = {\r\n      id: key,\r\n      value: data[key],\r\n    };\r\n    fetchedInfo.push(infoObj);\r\n  }\r\n  return fetchedInfo;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}