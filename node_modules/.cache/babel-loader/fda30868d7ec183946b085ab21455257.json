{"ast":null,"code":"const FIREBASE_DOMAIN = \"https://portfolio-1-e0333-default-rtdb.firebaseio.com\";\nexport async function getAllItems() {\n  const response = await fetch(`${FIREBASE_DOMAIN}/items.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not fetch items.\");\n  }\n\n  const fetchedItems = [];\n\n  for (const key in data) {\n    const itemObj = {\n      id: key,\n      ...data[key]\n    };\n    fetchedItems.push(itemObj);\n  }\n\n  return fetchedItems;\n}\nexport async function getSingleItem(idItem) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/items/${idItem}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not fetch items.\");\n  }\n\n  const loadedItem = {\n    id: idItem,\n    ...data\n  };\n  return loadedItem;\n}\nexport async function getAllOrders(user) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/orders/${user}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not fetch orders.\");\n  }\n\n  const fetchedOrders = [];\n\n  for (const key in data) {\n    const itemObj = {\n      id: key,\n      ...data[key]\n    };\n    fetchedOrders.push(itemObj);\n  }\n\n  return fetchedOrders;\n}\nexport async function makeOrder(orderedData) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/orders/${orderedData.emailPath}/.json`, {\n    method: \"POST\",\n    body: JSON.stringify(orderedData.orderData),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not process order.\");\n  }\n\n  return null;\n}\nexport async function cancelOrder(canceledData) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/orders/${canceledData.emailPath}/${canceledData.orderId}.json`, {\n    method: \"DELETE\",\n    body: JSON.stringify(),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not cancel order.\");\n  }\n\n  return null;\n}\nexport async function getPersonalInfo(userEmail) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/users/${userEmail}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not find any info.\");\n  }\n\n  const fetchedInfo = [];\n\n  for (const key in data) {\n    const infoObj = {\n      id: key,\n      value: data[key]\n    };\n    fetchedInfo.push(infoObj);\n  }\n\n  return fetchedInfo;\n}","map":{"version":3,"sources":["C:/Users/Win10/Documents/udemi-react/13-react-portfolio-eshop/src/lib/api.js"],"names":["FIREBASE_DOMAIN","getAllItems","response","fetch","data","json","ok","Error","message","fetchedItems","key","itemObj","id","push","getSingleItem","idItem","loadedItem","getAllOrders","user","fetchedOrders","makeOrder","orderedData","emailPath","method","body","JSON","stringify","orderData","headers","cancelOrder","canceledData","orderId","getPersonalInfo","userEmail","fetchedInfo","infoObj","value"],"mappings":"AAAA,MAAMA,eAAe,GAAG,uDAAxB;AAEA,OAAO,eAAeC,WAAf,GAA6B;AAClC,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEH,eAAgB,aAApB,CAA5B;AACA,QAAMI,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AAEA,MAAI,CAACH,QAAQ,CAACI,EAAd,EAAkB;AAChB,UAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACI,OAAL,IAAgB,wBAA1B,CAAN;AACD;;AAED,QAAMC,YAAY,GAAG,EAArB;;AACA,OAAK,MAAMC,GAAX,IAAkBN,IAAlB,EAAwB;AACtB,UAAMO,OAAO,GAAG;AACdC,MAAAA,EAAE,EAAEF,GADU;AAEd,SAAGN,IAAI,CAACM,GAAD;AAFO,KAAhB;AAIAD,IAAAA,YAAY,CAACI,IAAb,CAAkBF,OAAlB;AACD;;AACD,SAAOF,YAAP;AACD;AAED,OAAO,eAAeK,aAAf,CAA6BC,MAA7B,EAAqC;AAC1C,QAAMb,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEH,eAAgB,UAASe,MAAO,OAApC,CAA5B;AACA,QAAMX,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AAEA,MAAI,CAACH,QAAQ,CAACI,EAAd,EAAkB;AAChB,UAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACI,OAAL,IAAgB,wBAA1B,CAAN;AACD;;AACD,QAAMQ,UAAU,GAAG;AACjBJ,IAAAA,EAAE,EAAEG,MADa;AAEjB,OAAGX;AAFc,GAAnB;AAIA,SAAOY,UAAP;AACD;AAED,OAAO,eAAeC,YAAf,CAA4BC,IAA5B,EAAkC;AACvC,QAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEH,eAAgB,WAAUkB,IAAK,OAAnC,CAA5B;AACA,QAAMd,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AAEA,MAAI,CAACH,QAAQ,CAACI,EAAd,EAAkB;AAChB,UAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACI,OAAL,IAAgB,yBAA1B,CAAN;AACD;;AAED,QAAMW,aAAa,GAAG,EAAtB;;AACA,OAAK,MAAMT,GAAX,IAAkBN,IAAlB,EAAwB;AACtB,UAAMO,OAAO,GAAG;AACdC,MAAAA,EAAE,EAAEF,GADU;AAEd,SAAGN,IAAI,CAACM,GAAD;AAFO,KAAhB;AAIAS,IAAAA,aAAa,CAACN,IAAd,CAAmBF,OAAnB;AACD;;AACD,SAAOQ,aAAP;AACD;AAED,OAAO,eAAeC,SAAf,CAAyBC,WAAzB,EAAsC;AAC3C,QAAMnB,QAAQ,GAAG,MAAMC,KAAK,CACzB,GAAEH,eAAgB,WAAUqB,WAAW,CAACC,SAAU,QADzB,EAE1B;AACEC,IAAAA,MAAM,EAAE,MADV;AAEEC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,WAAW,CAACM,SAA3B,CAFR;AAGEC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AAHX,GAF0B,CAA5B;AAUA,QAAMxB,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AAEA,MAAI,CAACH,QAAQ,CAACI,EAAd,EAAkB;AAChB,UAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACI,OAAL,IAAgB,0BAA1B,CAAN;AACD;;AACD,SAAO,IAAP;AACD;AAED,OAAO,eAAeqB,WAAf,CAA2BC,YAA3B,EAAyC;AAC9C,QAAM5B,QAAQ,GAAG,MAAMC,KAAK,CACzB,GAAEH,eAAgB,WAAU8B,YAAY,CAACR,SAAU,IAAGQ,YAAY,CAACC,OAAQ,OADlD,EAE1B;AACER,IAAAA,MAAM,EAAE,QADV;AAEEC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,EAFR;AAGEE,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AAHX,GAF0B,CAA5B;AAUA,QAAMxB,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AACA,MAAI,CAACH,QAAQ,CAACI,EAAd,EAAkB;AAChB,UAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACI,OAAL,IAAgB,yBAA1B,CAAN;AACD;;AACD,SAAO,IAAP;AACD;AAED,OAAO,eAAewB,eAAf,CAA+BC,SAA/B,EAA0C;AAC/C,QAAM/B,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEH,eAAgB,UAASiC,SAAU,OAAvC,CAA5B;AACA,QAAM7B,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AAEA,MAAI,CAACH,QAAQ,CAACI,EAAd,EAAkB;AAChB,UAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACI,OAAL,IAAgB,0BAA1B,CAAN;AACD;;AAED,QAAM0B,WAAW,GAAG,EAApB;;AACA,OAAK,MAAMxB,GAAX,IAAkBN,IAAlB,EAAwB;AACtB,UAAM+B,OAAO,GAAG;AACdvB,MAAAA,EAAE,EAAEF,GADU;AAEd0B,MAAAA,KAAK,EAAEhC,IAAI,CAACM,GAAD;AAFG,KAAhB;AAIAwB,IAAAA,WAAW,CAACrB,IAAZ,CAAiBsB,OAAjB;AACD;;AACD,SAAOD,WAAP;AACD","sourcesContent":["const FIREBASE_DOMAIN = \"https://portfolio-1-e0333-default-rtdb.firebaseio.com\";\r\n\r\nexport async function getAllItems() {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/items.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch items.\");\r\n  }\r\n\r\n  const fetchedItems = [];\r\n  for (const key in data) {\r\n    const itemObj = {\r\n      id: key,\r\n      ...data[key],\r\n    };\r\n    fetchedItems.push(itemObj);\r\n  }\r\n  return fetchedItems;\r\n}\r\n\r\nexport async function getSingleItem(idItem) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/items/${idItem}.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch items.\");\r\n  }\r\n  const loadedItem = {\r\n    id: idItem,\r\n    ...data,\r\n  };\r\n  return loadedItem;\r\n}\r\n\r\nexport async function getAllOrders(user) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/orders/${user}.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch orders.\");\r\n  }\r\n\r\n  const fetchedOrders = [];\r\n  for (const key in data) {\r\n    const itemObj = {\r\n      id: key,\r\n      ...data[key],\r\n    };\r\n    fetchedOrders.push(itemObj);\r\n  }\r\n  return fetchedOrders;\r\n}\r\n\r\nexport async function makeOrder(orderedData) {\r\n  const response = await fetch(\r\n    `${FIREBASE_DOMAIN}/orders/${orderedData.emailPath}/.json`,\r\n    {\r\n      method: \"POST\",\r\n      body: JSON.stringify(orderedData.orderData),\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n    }\r\n  );\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not process order.\");\r\n  }\r\n  return null;\r\n}\r\n\r\nexport async function cancelOrder(canceledData) {\r\n  const response = await fetch(\r\n    `${FIREBASE_DOMAIN}/orders/${canceledData.emailPath}/${canceledData.orderId}.json`,\r\n    {\r\n      method: \"DELETE\",\r\n      body: JSON.stringify(),\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n    }\r\n  );\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not cancel order.\");\r\n  }\r\n  return null;\r\n}\r\n\r\nexport async function getPersonalInfo(userEmail) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/users/${userEmail}.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not find any info.\");\r\n  }\r\n\r\n  const fetchedInfo = [];\r\n  for (const key in data) {\r\n    const infoObj = {\r\n      id: key,\r\n      value: data[key],\r\n    };\r\n    fetchedInfo.push(infoObj);\r\n  }\r\n  return fetchedInfo;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}